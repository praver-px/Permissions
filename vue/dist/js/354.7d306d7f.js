"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[354],{6354:function(e,s,r){r.r(s),r.d(s,{default:function(){return m}});r(7658);var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"inBox"},[e._m(0),s("el-form",{ref:"loginForm",attrs:{model:e.user,rules:e.rules}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{staticStyle:{margin:"10px 0"},attrs:{size:"medium","prefix-icon":"el-icon-user"},model:{value:e.user.username,callback:function(s){e.$set(e.user,"username",s)},expression:"user.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{staticStyle:{margin:"10px 0"},attrs:{size:"medium","prefix-icon":"el-icon-lock","show-password":""},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1),s("div",{staticStyle:{margin:"10px 0","text-align":"right"}},[s("el-button",{attrs:{type:"primary",size:"small",autocomplete:"off"},on:{click:e.login}},[e._v("登录")]),s("el-button",{attrs:{type:"success",size:"small",autocomplete:"off"},on:{click:function(s){return e.$router.push("/register")}}},[e._v("注册")])],1)],1)],1)])},i=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"title"},[s("b",[e._v("登 录")])])}],a=(r(4738),r(1120)),u={name:"login",data(){return{user:{},rules:{username:[{required:!0,message:"请输入用户名！",trigger:"blur"},{min:3,max:10,message:"长度在3-10之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码！",trigger:"blur"},{min:3,max:10,message:"长度在3-10之间",trigger:"blur"}]}}},methods:{login(){this.$refs["loginForm"].validate((e=>{e&&this.request.post("/user/login",this.user).then((e=>{"200"===e.code?(localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("menus",JSON.stringify(e.data.menus)),(0,a.lX)(),this.$notify.success("登录成功！"),"ROLE_STUDENT"===e.data.role?this.$router.push("/front/home"):this.$router.push("/")):this.$notify.error(e.msg)}))}))}}},l=u,o=r(1001),n=(0,o.Z)(l,t,i,!1,null,null,null),m=n.exports},4738:function(){}}]);
//# sourceMappingURL=354.7d306d7f.js.map